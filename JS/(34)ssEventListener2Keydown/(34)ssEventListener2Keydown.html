<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<title>CFB -Cursos - Javascript 34 - addEventListener 2 Keydown</title>
		<meta charset="UTF-8">

		<style>
			#dv1{
				width:100px;
				height:100px;
				border:1px solid #000;
				background-color: #f00;
				position:absolute;
				left:0px;
				top:0px;
			}
		</style>

		<script>

			var px=0;  // Horizontal
			var py=0;  // Vertical

			/*document.addEventListener("keydown",function(event){
				var obj=document.getElementById("dv1");
				var tecla=event.keyCode;
				// 37 = Esquerda | 38 = Cima | 39 = Direita | 40 = Baixo || 13 = Enter;

				if(tecla==37){
					px-=10;
					obj.style.left=px+"px";
				}else if(tecla==38){
					py-=10;
					obj.style.top=py+"px";
				}else if(tecla==39){
					px+=10;
					obj.style.left=px+"px";
				}else if(tecla==40){
					py+=10;
					obj.style.top=py+"px";
				}

			});*/

			function move(){
				var obj=document.getElementById("dv1");
				var tecla=event.keyCode;
				// 37 = Esquerda | 38 = Cima | 39 = Direita | 40 = Baixo || 13 = Enter;

				if(tecla==37){
					px-=10;
					obj.style.left=px+"px";
				}else if(tecla==38){
					py-=10;
					obj.style.top=py+"px";
				}else if(tecla==39){
					px+=10;
					obj.style.left=px+"px";
				}else if(tecla==40){
					py+=10;
					obj.style.top=py+"px";
				}else if(tecla==13){
					alert("Evento keydown Removido")
					document/*this*/.removeEventListener("keydown",move);
				}
			}
			
			document.addEventListener("keydown",move);

		</script>

	</head>

	<body>

		<div id="dv1"></div>
	
	</body>
</html>