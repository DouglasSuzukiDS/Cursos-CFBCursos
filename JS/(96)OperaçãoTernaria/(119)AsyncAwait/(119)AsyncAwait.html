<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>CFB Cursos - Javascript Aula 119 - Async Await</title>
   <script>
      /* Promise: Usando pra tornar algo sincrono, em asincrono 
            Pendind: Quando cria a Promise, que ela não foi executada e nem rejeitada;
            Fulfilled: Quando a Promise execita com sucesso;
            Rejected: Quando a Promise é rejeitada;
      */

      function contar(n){
         let cont = 0
         for(let i = 0; i < n; i++){
            cont++
         }
         //return cont
         console.log(cont)
      }

      function contarT(n){
         let cont = 0
         let t = setTimeout(() => {
            for(let i = 0; i < n; i++){
               cont++
            }
         }, 2000)
         //return cont
         console.log(cont)
      }

      function contarP(n){
         let cont = 0
         let p = new Promise((resolve, reject) => {
            for(let i = 0; i < n; i++){
               cont++
            }
            if(cont == n){
               resolve(cont)
            }else{
               reject('ERRO')
            }
         })
         return p
      }

      async function contarPA(n){
         const r = await contarP(n)
         console.log(r)
      }

      function contarPT(n){
         let cont = 0
         let p = new Promise((resolve, reject) => {
            let t = setTimeout(() => {
               for(let i = 0; i < n; i++){
                  cont++
               }
               if(cont == n){
               resolve(cont)
               }else{
                  reject('ERRO')
               }
            }, 2000)

         })
         return p 
      }

      async function contarPTA(n){
         const r = await contarPT(n)
         console.log(r)
      }

      contar(10)
      contarT(10)
      
      contarPA(10)
      /*contarP(10)
         .then(sucesso => console.log('Sucesso: ' + sucesso))
         .catch(erro => console.log(erro))*/

      contarPTA(10)
      /*contarPT(10)
         .then(sucesso => console.log('Sucesso: ' + sucesso))
         .catch(erro => console.log(erro))*/

   </script>
</head>
<body>
   
</body>
</html>