<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>CFB Cursos - Javascript Aula 116 - Promises</title>
   <script>
      /* Promise: Usando pra tornar algo sincrono, em asincrono 
            Pendind: Quando cria a Promise, que ela não foi executada e nem rejeitada;
            Fulfilled: Quando a Promise execita com sucesso;
            Rejected: Quando a Promise é rejeitada;
      */

      function contar(n){
         let cont = 0
         for(let i = 0; i < n; i++){
            cont++
         }
         return cont
      }

      function contarT(n){
         let cont = 0
         let t = setTimeout(() => {
            for(let i = 0; i < n; i++){
               cont++
            }
         }, 2000)
         return cont
      }

      function contarP(n){
         let cont = 0
         let p = new Promise((resolve, reject) => {
            for(let i = 0; i < n; i++){
               cont++
            }
            if(cont == n){
               resolve(cont)
            }else{
               reject('ERRO')
            }
         })
         return p
      }

      function contarPT(n){
         let cont = 0
         let p = new Promise((resolve, reject) => {
            let t = setTimeout(() => {
               for(let i = 0; i < n; i++){
                  cont++
               }
               if(cont == n){
               resolve(cont)
               }else{
                  reject('ERRO')
               }
            }, 2000)

         })
         return p
      }

      function somaPositivos(n1, n2){
         let p = new Promise((res, rej) => {
            if(n1 >= 0 && n2 >= 0){
               res(n1 + n2)
            }else{
               rej('ERRO')
            }
         })
         return p
      }

      console.log(contar(10000))

      /*contarP(10)
         .then(sucesso => console.log('Sucesso: ' + sucesso))
         .catch(erro => console.log(erro))*/setTimeout
      
      console.log(contarT(10))
   
      contarPT(10)
         .then(sucesso => console.log('Sucesso: ' + sucesso))
         .catch(erro => console.log(erro))

      /*somaPositivos(10, 2)
         .then(sucesso => console.log('Sucesso: ' + sucesso))
         .catch(erro => console.log(erro))*/
   </script>
</head>
<body>
   
</body>
</html>