<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<title>CFB Cursos - Javascript 35 - setTimeout | setInterval</title>
		<meta charset="UTF-8">

		<style>
			#dv1{
				width:100px;
				height:100px;
				border:1px solid #000;
				background-color: #fff;
			}
		</style>

		<script>
			// SETTIMEOUT(callBack,time) = Faz a chamada da função callback no tempo expeficidado;

			// SETINTERVAL(callBack,time) = Fica repetindo a função enquanto o intervalo existir; 

			// CLEARINTERVAL = Para o intervalo;

			var tmp;

			function mudaCor(){
				var obj=document.getElementById("dv1");
				var r=Math.floor(Math.random()*255);
				var g=Math.floor(Math.random()*255);
				var b=Math.floor(Math.random()*255);
				obj.style.backgroundColor="rgb("+r+","+g+","+b+")";
			}
			//window.addEventListener("load",mudaCor);

			//var tmp=setTimeout(mudaCor,3000); //Chama somente 1 vez a função;

			//var tmp=setInterval(mudaCor,3000); //Chama a funçãono tempo configurado;

			function iniciar(){
				tmp=setInterval(mudaCor,1000);
			}

			function parar(){
				clearInterval(tmp);
			}

			function addEventos(){
				document.getElementById("bt1").addEventListener("click",iniciar);
				document.getElementById("bt2").addEventListener("click",parar);		
			}

			window.addEventListener("load",addEventos);
			
		</script>

	</head>

	<body>
		<div id="dv1"></div>
		<br/>
		<button id="bt1">Iniciar</button>
		<button id="bt2">Parar</button>
	
	</body>
</html>